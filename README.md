## 프로젝트 개요

사용자 후기 기반의 리뷰 커뮤니티로 베스트 후기·실시간 후기·검색 등 다양한 방식으로 후기를 탐색할 수 있는 플랫폼입니다. 게시글 작성, 이미지 업로드, 북마크, 댓글, 실시간 알림 등 커뮤니티 서비스에 필요한 기능을 제공합니다.

## 프로젝트 목표

여러 플랫폼에 흩어진 후기 정보를 한 곳에서 쉽게 탐색할 수 있는 공간을 만드는 것이 프로젝트의 가장 큰 목표였습니다.

사용자가 작성한 리뷰가 더 많은 사람에게 도달하려면 검색을 통한 유입이 중요하다고 판단해,  
주요 페이지와 게시글 본문이 검색 엔진에 제대로 노출될 수 있는 구조를 갖추는 데 집중했습니다.

또한 **조회 => 반응(댓글/북마크) => 알림 => 재참여**로 이어지는 흐름이 끊기지 않도록 사용자가 자연스럽게 계속 참여할 수 있는 경험을 만드는 것도 중요한 목표였습니다.

## 주요 기술 스택

### 프레임워크 및 언어

- Next.js 15
- Typescript

### 상태 관리

- Tanstack Query (서버 상태 관리)
- Zustand (클라이언트 상태 관리)

### UI 및 스타일링

- Tailwind CSS
- Radix UI, shadcn/ui
- lucide-react

### 에디터

- Tiptap

### 모니터링

- Sentry

### 배포 및 운영

- AWS EC2 (Ubuntu)
- Nginx
- PM2
- Github Actions + CodeDeploy (CI/CD 파이프라인)

## 기술 선정 이유

### Next.js

커뮤니티 서비스는 검색 유입이 중요해 게시글 본문이 검색 엔진이 바로 읽을 수 있는 형태로 제공돼야 했습니다.

CSR은 초기 HTML이 비어 있어 크롤러가 내용을 제대로 가져가지 못하므로 서버에서 컨텐츠를 먼저 그려주는 Next.js의 서버 컴포넌트 기반 렌더링과 동적 메타데이터 기능이 더 적합하다고 판단했습니다.

또 초기 로딩 성능이 중요해 리액트 단독 환경처럼 모든 자바스크립트 코드를 먼저 받는 구조보다 서버에서 필요한 컨텐츠만 먼저 내려주는 방식이 유리했습니다. 여기에 ISR, SSG 같은 페이지 단위 캐싱 전략과 확장된 fetch의 캐싱 옵션까지 활용할 수 있다는 점을 고려해 Next.js를 선택했습니다.

### Tanstack Query

커뮤니티 특성상 사용자마다 결과가 달라지는 데이터가 많아 변동이 잦은 영역은 서버 캐싱보다 클라이언트 캐싱이 더 적합했습니다.

검색은 키워드, 정렬 옵션 조합이 다양하고 마이페이지(작성글/저장글), 댓글, 북마크처럼 인증 기반 데이터도 사용자마다 다른 값을 가지기 때문에 서버 측 캐싱 효율이 낮았습니다.

Next.js의 서버 캐시가 요청 컨텍스트 기반이라는 점을 고려하면 이런 데이터를 서버에 쌓을수록 메모리 부담이 커집니다. 그래서 변동이 많고 개인화된 데이터는 Tanstack Query로 관리하는 구조가 현실적이었습니다.

추가로 Suspense 기반의 선언적 데이터 패칭과 전역 에러 핸들링으로 UI 코드가 간결해졌고 무한 스크롤, 페이지네이션 같은 게시판 서비스의 핵심 기능도 제공해 요구사항에 잘 맞았습니다.

### Zustand

초기에 컴포넌트 외부의 순수 함수에서 전역 상태를 업데이트해야 하는 요구사항이 있었습니다. Context API는 훅 규칙 때문에 컴포넌트나 커스텀 훅 내부에서만 상태 변경이 가능해 이 요구사항을 해결할 수 없었습니다.

Zustand는 전역 스토어가 리액트와 분리된 순수 자바스크립트 객체로 구성되어 있어 컴포넌트 바깥에서도 상태를 직접 제어 가능했고, 초기에 필요한 요구사항을 해결해줬습니다.

프로젝트가 진행되면서 로그인, 알림, 에러 등 클라이언트 상태가 여러 영역으로 확장되었고 Context 기반으로 Provider를 계속 늘려가는 구조보다 각 상태를 독립된 스토어로 관리할 수 있는 Zustand 쪽이 더 단순하고 관리하기 편했습니다.

### AWS EC2

서비스를 실제로 운영한다는 관점에서 비용 구조가 예측 가능한지가 중요했습니다. Vercel은 자동 배포와 관리 편의성 면에서 뛰어나지만 Pro 플랜부터 Data Transfer 비용이 급격히 올라가는 구조였습니다.

서울 리전 기준으로 1TB 이후부터 1GB당 0.35달러가 과금되는데, 커뮤니티 서비스처럼 이미지 업로드, 조회, 검색 트래픽이 많은 구조에서는 비용 리스크가 커질 수 있었습니다.

같은 상황에서 AWS는 100GB까지 무료이고 이후 1GB당 0.126달러 수준으로 동일 트래픽에서 비용이 절반 이하로 떨어집니다. 트래픽이 장기적으로 증가할수록 이 차이는 더 크게 벌어집니다.

EC2는 고정 리소스 기반이라 서버 사양을 조정하지 않는 한 예측 불가능한 추가 비용이 발생하지 않는다는 점도 운영 관점에서 안정적이라고 판단했습니다.

## 아키텍처 구성도

<img width="1628" height="987" alt="modu-arc" align="center" src="https://github.com/user-attachments/assets/db020641-46e9-4b0b-aa78-9283c8a43223" />

사용자가 서비스에 접근해 페이지를 렌더링 받기까지의 흐름과 깃허브에서 AWS로 이어지는 CI/CD 파이프라인을 나타낸 구성도입니다.

- 브라우저에서 modu-review.com으로 접근하면 DNS가 EC2 인스턴스를 가리키고, Nginx가 실행 중인 Next.js 서버(3000/3001)로 트래픽을 프록시합니다.
- 깃허브에 코드의 변경이 감지되면 깃허브 액션에 의해 빌드 후 압축된 파일이 S3에 업르도됩니다. 이후 코드 디플로이가 해당 파일을 EC2로 가져와 새로운 버전을 배포합니다.

EC2 내부에서는 PM2에 의해 Next.js 프로세스가 관리되며, Blue-Green 방식으로 포트를 전환해 배포 시 자동 롤백과 다운타임을 최소화하고 있습니다.

## 주요 구현 기능
프로젝트에 기여한 주요 구현 기능입니다.

<div align="center">

| 메인페이지 내 베스트 후기 영역 및 실시간 후기 |
| -- |
| <img src="https://github.com/user-attachments/assets/672b1c24-be4f-4274-a91f-2a877bd0041a" width="800px" /> |
| 베스트 후기 섹션은  |

| 검색 - 무한스크롤 및 옵션 변경, 페이지네이션 |
| -- |
| <img src="https://github.com/user-attachments/assets/9ccb4bd6-640c-4286-8348-7ab4c5a46043" width="800px" /> |

| 에디터 서식 지원 |
| -- |
| <img src="https://github.com/user-attachments/assets/9929a0ea-ce2b-46b7-aa1a-809ea65fc4bc" width="800px" /> |

| 이미지 업로드 진행률 표시 및 취소 |
| -- |
| <img src="https://github.com/user-attachments/assets/f908bca9-6160-43c0-8269-ad26a626a991" width="800px" /> |

| 저장 및 수정, 미리보기 |
| -- |
| <img src="https://github.com/user-attachments/assets/63e2045b-c580-4f1e-b70d-853ab573ce6c" width="800px" /> |

| 북마크 후 마이페이지 표시 |
| -- |
| <img src="https://github.com/user-attachments/assets/c53b512e-eac2-4724-aeb5-9f9b9092e5ba" width="800px" /> |

| 댓글 작성 |
| -- |
| <img src="https://github.com/user-attachments/assets/e008933f-8c62-492a-8965-20bef97815a4" width="800px" /> |

| 실시간 반응 알림 및 이동 |
| -- |
| <img src="https://github.com/user-attachments/assets/5ffc78ee-6bee-4609-9c27-63014e35526a" width="800px" /> |

</div>
